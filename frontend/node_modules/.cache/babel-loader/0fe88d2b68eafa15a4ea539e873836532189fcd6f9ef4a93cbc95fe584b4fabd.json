{"ast":null,"code":"var _jsxFileName = \"/home/amandeep/houseofmit-design-studio/frontend/src/components/DesignCustomizer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Upload, RotateCw, ZoomIn, ZoomOut, Download, Save, Trash2, Loader, Maximize2, Move } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:5000/api';\nasync function uploadDesignFile(file) {\n  const formData = new FormData();\n  formData.append('designFile', file);\n  const response = await fetch(`${API_BASE_URL}/upload-design`, {\n    method: 'POST',\n    body: formData\n  });\n  if (!response.ok) throw new Error('Upload failed');\n  return response.json();\n}\nasync function saveDesign(designData) {\n  const response = await fetch(`${API_BASE_URL}/designs`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(designData)\n  });\n  if (!response.ok) throw new Error('Save failed');\n  return response.json();\n}\nasync function getUserDesigns(userId) {\n  const response = await fetch(`${API_BASE_URL}/designs/${userId}`);\n  if (!response.ok) throw new Error('Fetch failed');\n  return response.json();\n}\nfunction DesignCustomizer() {\n  _s();\n  var _tshirtColors$find2;\n  const [uploadedDesign, setUploadedDesign] = useState(null);\n  const [uploadedFileUrl, setUploadedFileUrl] = useState(null);\n  const [designPosition, setDesignPosition] = useState({\n    x: 50,\n    y: 40\n  });\n  const [designSize, setDesignSize] = useState(30);\n  const [rotation, setRotation] = useState(0);\n  const [selectedColor, setSelectedColor] = useState('white');\n  const [selectedProduct, setSelectedProduct] = useState('tshirt');\n  const [printType, setPrintType] = useState('regular');\n  const [isDragging, setIsDragging] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [savedDesigns, setSavedDesigns] = useState([]);\n  const [currentUserId] = useState('user_' + Math.random().toString(36).substr(2, 9));\n  const [notification, setNotification] = useState(null);\n  const tshirtColors = [{\n    name: 'White',\n    value: 'white',\n    hex: '#FFFFFF'\n  }, {\n    name: 'Black',\n    value: 'black',\n    hex: '#000000'\n  }, {\n    name: 'Navy',\n    value: 'navy',\n    hex: '#000080'\n  }, {\n    name: 'Red',\n    value: 'red',\n    hex: '#DC143C'\n  }, {\n    name: 'Green',\n    value: 'green',\n    hex: '#228B22'\n  }];\n  const products = [{\n    name: 'T-Shirt',\n    value: 'tshirt'\n  }, {\n    name: 'Hoodie',\n    value: 'hoodie'\n  }, {\n    name: 'Tank Top',\n    value: 'tank'\n  }, {\n    name: 'Jacket',\n    value: 'jacket'\n  }];\n  const printTypes = [{\n    name: 'Regular Print',\n    value: 'regular',\n    description: 'Print design on specific area'\n  }, {\n    name: 'All Over Print (AOP)',\n    value: 'aop',\n    description: 'Cover entire garment with design'\n  }];\n  useEffect(() => {\n    loadUserDesigns();\n  }, []);\n  const loadUserDesigns = async () => {\n    try {\n      const response = await getUserDesigns(currentUserId);\n      setSavedDesigns(response.designs || []);\n    } catch (error) {\n      console.error('Error loading designs:', error);\n    }\n  };\n  const showNotification = (message, type = 'success') => {\n    setNotification({\n      message,\n      type\n    });\n    setTimeout(() => setNotification(null), 3000);\n  };\n  const handleFileUpload = async e => {\n    const file = e.target.files[0];\n    if (file && file.type.startsWith('image/')) {\n      setIsUploading(true);\n      const reader = new FileReader();\n      reader.onload = event => {\n        setUploadedDesign(event.target.result);\n      };\n      reader.readAsDataURL(file);\n      try {\n        const response = await uploadDesignFile(file);\n        setUploadedFileUrl(response.fileUrl);\n        showNotification('Design uploaded successfully!');\n      } catch (error) {\n        console.error('Upload error:', error);\n        showNotification('Error uploading design', 'error');\n      } finally {\n        setIsUploading(false);\n      }\n    }\n  };\n  const handleMouseDown = e => {\n    if (uploadedDesign) {\n      setIsDragging(true);\n    }\n  };\n  const handleMouseMove = e => {\n    if (isDragging) {\n      const container = e.currentTarget.getBoundingClientRect();\n      const newX = (e.clientX - container.left) / container.width * 100;\n      const newY = (e.clientY - container.top) / container.height * 100;\n      setDesignPosition({\n        x: Math.max(10, Math.min(90, newX)),\n        y: Math.max(10, Math.min(90, newY))\n      });\n    }\n  };\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n  const handleSizeChange = delta => {\n    setDesignSize(prev => Math.max(10, Math.min(80, prev + delta)));\n  };\n  const handleRotation = () => {\n    setRotation(prev => (prev + 90) % 360);\n  };\n  const resetDesign = () => {\n    setDesignPosition({\n      x: 50,\n      y: 40\n    });\n    setDesignSize(30);\n    setRotation(0);\n  };\n  const handlePrintTypeChange = type => {\n    setPrintType(type);\n    if (type === 'aop') {\n      setDesignPosition({\n        x: 50,\n        y: 50\n      });\n      setRotation(0);\n    }\n  };\n  const handleSaveToCart = async () => {\n    if (!uploadedDesign || !uploadedFileUrl) {\n      showNotification('Please upload a design first', 'error');\n      return;\n    }\n    setIsSaving(true);\n    try {\n      const designData = {\n        userId: currentUserId,\n        designImage: uploadedFileUrl,\n        printType: printType,\n        position: designPosition,\n        size: designSize,\n        rotation: rotation,\n        productType: selectedProduct,\n        color: selectedColor,\n        status: 'saved'\n      };\n      const response = await saveDesign(designData);\n      showNotification('Design saved successfully!');\n      await loadUserDesigns();\n      console.log('Design saved:', response);\n    } catch (error) {\n      console.error('Save error:', error);\n      showNotification('Error saving design', 'error');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n  const downloadDesign = () => {\n    var _tshirtColors$find;\n    const canvas = document.createElement('canvas');\n    canvas.width = 800;\n    canvas.height = 1000;\n    const ctx = canvas.getContext('2d');\n    ctx.fillStyle = ((_tshirtColors$find = tshirtColors.find(c => c.value === selectedColor)) === null || _tshirtColors$find === void 0 ? void 0 : _tshirtColors$find.hex) || '#FFFFFF';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    if (uploadedDesign) {\n      const img = new Image();\n      img.onload = () => {\n        const designWidth = canvas.width * designSize / 100;\n        const designHeight = designWidth * img.height / img.width;\n        const x = canvas.width * designPosition.x / 100 - designWidth / 2;\n        const y = canvas.height * designPosition.y / 100 - designHeight / 2;\n        ctx.save();\n        ctx.translate(x + designWidth / 2, y + designHeight / 2);\n        ctx.rotate(rotation * Math.PI / 180);\n        ctx.drawImage(img, -designWidth / 2, -designHeight / 2, designWidth, designHeight);\n        ctx.restore();\n        canvas.toBlob(blob => {\n          const url = URL.createObjectURL(blob);\n          const a = document.createElement('a');\n          a.href = url;\n          a.download = `design-${Date.now()}.png`;\n          a.click();\n          URL.revokeObjectURL(url);\n        });\n      };\n      img.src = uploadedDesign;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100\",\n    children: [notification && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg ${notification.type === 'error' ? 'bg-red-500 text-white' : 'bg-green-500 text-white'}`,\n      children: notification.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-white shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-gray-900\",\n            children: \"Custom Design Studio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600\",\n            children: \"House of Mit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1 space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-md p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold mb-4 text-gray-800\",\n              children: \"Upload Your Design\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col items-center justify-center pt-5 pb-6\",\n                children: isUploading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Loader, {\n                    className: \"w-10 h-10 mb-3 text-blue-500 animate-spin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500\",\n                    children: \"Uploading...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Upload, {\n                    className: \"w-10 h-10 mb-3 text-gray-400\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mb-2 text-sm text-gray-500\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold\",\n                      children: \"Click to upload\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 248,\n                      columnNumber: 25\n                    }, this), \" or drag and drop\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500\",\n                    children: \"PNG, JPG, SVG (MAX. 5MB)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                className: \"hidden\",\n                accept: \"image/*\",\n                onChange: handleFileUpload,\n                disabled: isUploading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-md p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold mb-4 text-gray-800\",\n              children: \"Print Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: printTypes.map(type => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handlePrintTypeChange(type.value),\n                className: `w-full p-4 rounded-lg border-2 transition-all text-left ${printType === type.value ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-gray-300'}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-start gap-3\",\n                  children: [type.value === 'regular' ? /*#__PURE__*/_jsxDEV(Move, {\n                    className: `w-5 h-5 mt-0.5 ${printType === type.value ? 'text-blue-600' : 'text-gray-400'}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(Maximize2, {\n                    className: `w-5 h-5 mt-0.5 ${printType === type.value ? 'text-blue-600' : 'text-gray-400'}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `font-semibold ${printType === type.value ? 'text-blue-600' : 'text-gray-900'}`,\n                      children: type.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 274,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-gray-500 mt-1\",\n                      children: type.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 275,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 21\n                }, this)\n              }, type.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this), printType === 'aop' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-amber-800\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold\",\n                  children: \"Note:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 21\n                }, this), \" AOP designs will cover the entire garment. High-resolution images recommended (min 3000x3000px).\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-md p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold mb-4 text-gray-800\",\n              children: \"Select Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-2\",\n              children: products.map(product => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectedProduct(product.value),\n                className: `py-3 px-4 rounded-lg text-sm font-medium transition-all ${selectedProduct === product.value ? 'bg-blue-600 text-white shadow-md' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`,\n                children: product.name\n              }, product.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this), printType === 'regular' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-md p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold mb-4 text-gray-800\",\n              children: \"Choose Color\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3 flex-wrap\",\n              children: tshirtColors.map(color => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectedColor(color.value),\n                className: `w-12 h-12 rounded-full border-4 transition-all ${selectedColor === color.value ? 'border-blue-600 scale-110' : 'border-gray-300 hover:border-gray-400'}`,\n                style: {\n                  backgroundColor: color.hex\n                },\n                title: color.name\n              }, color.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this), uploadedDesign && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-md p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold mb-4 text-gray-800\",\n              children: printType === 'aop' ? 'Pattern Settings' : 'Adjust Design'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: [printType === 'aop' ? 'Pattern Scale' : 'Size', \": \", designSize, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleSizeChange(-5),\n                    className: \"flex-1 flex items-center justify-center gap-2 py-2 px-4 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\",\n                    children: [/*#__PURE__*/_jsxDEV(ZoomOut, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 25\n                    }, this), \"Smaller\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleSizeChange(5),\n                    className: \"flex-1 flex items-center justify-center gap-2 py-2 px-4 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\",\n                    children: [/*#__PURE__*/_jsxDEV(ZoomIn, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 342,\n                      columnNumber: 25\n                    }, this), \"Larger\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleRotation,\n                className: \"w-full flex items-center justify-center gap-2 py-2 px-4 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(RotateCw, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 21\n                }, this), \"Rotate 90\\xB0\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: resetDesign,\n                className: \"w-full flex items-center justify-center gap-2 py-2 px-4 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(Trash2, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 21\n                }, this), \"Reset Position\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 19\n              }, this), printType === 'aop' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-3 bg-blue-50 border border-blue-200 rounded-lg\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-blue-800\",\n                  children: [\"Your pattern will repeat across the entire \", selectedProduct, \". Adjust scale and position for the perfect look!\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this), uploadedDesign && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-md p-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSaveToCart,\n                disabled: isSaving,\n                className: \"w-full flex items-center justify-center gap-2 py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors disabled:opacity-50\",\n                children: isSaving ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Loader, {\n                    className: \"w-5 h-5 animate-spin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 25\n                  }, this), \"Saving...\"]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Save, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 25\n                  }, this), \"Save & Add to Cart\"]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: downloadDesign,\n                className: \"w-full flex items-center justify-center gap-2 py-3 px-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(Download, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 21\n                }, this), \"Download Design\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this), savedDesigns.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-md p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold mb-4 text-gray-800\",\n              children: [\"Saved Designs (\", savedDesigns.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"You have \", savedDesigns.length, \" saved design\", savedDesigns.length !== 1 ? 's' : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-md p-8 sticky top-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-semibold mb-6 text-gray-800\",\n              children: \"Live Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative aspect-square max-w-2xl mx-auto overflow-hidden rounded-lg\",\n              onMouseMove: handleMouseMove,\n              onMouseUp: handleMouseUp,\n              onMouseLeave: handleMouseUp,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  viewBox: \"0 0 400 500\",\n                  className: \"w-full h-full\",\n                  children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n                    children: printType === 'aop' && uploadedDesign && /*#__PURE__*/_jsxDEV(\"pattern\", {\n                      id: \"aopPattern\",\n                      x: designPosition.x,\n                      y: designPosition.y,\n                      width: 400 * (designSize / 100),\n                      height: 500 * (designSize / 100),\n                      patternUnits: \"userSpaceOnUse\",\n                      children: /*#__PURE__*/_jsxDEV(\"image\", {\n                        href: uploadedDesign,\n                        x: \"0\",\n                        y: \"0\",\n                        width: 400 * (designSize / 100),\n                        height: 500 * (designSize / 100),\n                        preserveAspectRatio: \"xMidYMid slice\",\n                        transform: `rotate(${rotation} ${200 * (designSize / 100)} ${250 * (designSize / 100)})`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 427,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 420,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M100 100 L80 120 L80 500 L320 500 L320 120 L300 100 L280 80 L270 70 L250 70 L240 80 L230 80 L220 90 L180 90 L170 80 L160 80 L150 70 L130 70 L120 80 Z\",\n                    fill: printType === 'aop' ? 'url(#aopPattern)' : ((_tshirtColors$find2 = tshirtColors.find(c => c.value === selectedColor)) === null || _tshirtColors$find2 === void 0 ? void 0 : _tshirtColors$find2.hex) || '#FFFFFF',\n                    stroke: \"#E5E7EB\",\n                    strokeWidth: \"2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M180 90 Q200 120 220 90\",\n                    fill: \"none\",\n                    stroke: \"#E5E7EB\",\n                    strokeWidth: \"2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 21\n                  }, this), printType === 'regular' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M100 100 L80 120 L80 200\",\n                      fill: \"rgba(0,0,0,0.05)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M300 100 L320 120 L320 200\",\n                      fill: \"rgba(0,0,0,0.05)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 454,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 17\n              }, this), uploadedDesign && printType === 'regular' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute cursor-move\",\n                style: {\n                  left: `${designPosition.x}%`,\n                  top: `${designPosition.y}%`,\n                  transform: `translate(-50%, -50%) rotate(${rotation}deg)`,\n                  width: `${designSize}%`,\n                  maxWidth: '300px'\n                },\n                onMouseDown: handleMouseDown,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: uploadedDesign,\n                  alt: \"Custom Design\",\n                  className: \"w-full h-auto pointer-events-none select-none\",\n                  draggable: \"false\",\n                  style: {\n                    filter: selectedColor === 'black' ? 'brightness(1.2) contrast(1.1)' : 'none'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 19\n              }, this), uploadedDesign && printType === 'aop' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute cursor-move border-2 border-dashed border-blue-500 bg-blue-500 bg-opacity-10\",\n                style: {\n                  left: `${designPosition.x}%`,\n                  top: `${designPosition.y}%`,\n                  transform: `translate(-50%, -50%) rotate(${rotation}deg)`,\n                  width: `${designSize}%`,\n                  height: `${designSize}%`,\n                  maxWidth: '400px',\n                  maxHeight: '500px',\n                  pointerEvents: 'auto'\n                },\n                onMouseDown: handleMouseDown,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute inset-0 flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-blue-600 text-white text-xs px-2 py-1 rounded\",\n                    children: \"Drag to adjust pattern origin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 496,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 19\n              }, this), !uploadedDesign && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center text-gray-400\",\n                  children: [/*#__PURE__*/_jsxDEV(Upload, {\n                    className: \"w-16 h-16 mx-auto mb-4 opacity-50\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 505,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-lg font-medium\",\n                    children: \"Upload a design to get started\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 506,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm mt-2\",\n                    children: [\"Your design will appear on the \", selectedProduct]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), uploadedDesign && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-6 text-center text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: \"\\uD83D\\uDCA1 Pro Tip:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 19\n              }, this), printType === 'regular' ? /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Click and drag your design to reposition it on the \", selectedProduct]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Drag to adjust pattern origin and use size controls to scale. Pattern repeats across entire \", selectedProduct, \"!\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 flex justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `px-4 py-2 rounded-full text-sm font-medium ${printType === 'aop' ? 'bg-purple-100 text-purple-700' : 'bg-blue-100 text-blue-700'}`,\n                children: printType === 'aop' ? 'ðŸŽ¨ All Over Print' : 'ðŸ“ Regular Print'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n}\n_s(DesignCustomizer, \"p76XaIlPS0AOZQrL9Fq8TaLDDC8=\");\n_c = DesignCustomizer;\nexport default DesignCustomizer;\nvar _c;\n$RefreshReg$(_c, \"DesignCustomizer\");","map":{"version":3,"names":["React","useState","useEffect","Upload","RotateCw","ZoomIn","ZoomOut","Download","Save","Trash2","Loader","Maximize2","Move","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","uploadDesignFile","file","formData","FormData","append","response","fetch","method","body","ok","Error","json","saveDesign","designData","headers","JSON","stringify","getUserDesigns","userId","DesignCustomizer","_s","_tshirtColors$find2","uploadedDesign","setUploadedDesign","uploadedFileUrl","setUploadedFileUrl","designPosition","setDesignPosition","x","y","designSize","setDesignSize","rotation","setRotation","selectedColor","setSelectedColor","selectedProduct","setSelectedProduct","printType","setPrintType","isDragging","setIsDragging","isUploading","setIsUploading","isSaving","setIsSaving","savedDesigns","setSavedDesigns","currentUserId","Math","random","toString","substr","notification","setNotification","tshirtColors","name","value","hex","products","printTypes","description","loadUserDesigns","designs","error","console","showNotification","message","type","setTimeout","handleFileUpload","e","target","files","startsWith","reader","FileReader","onload","event","result","readAsDataURL","fileUrl","handleMouseDown","handleMouseMove","container","currentTarget","getBoundingClientRect","newX","clientX","left","width","newY","clientY","top","height","max","min","handleMouseUp","handleSizeChange","delta","prev","handleRotation","resetDesign","handlePrintTypeChange","handleSaveToCart","designImage","position","size","productType","color","status","log","downloadDesign","_tshirtColors$find","canvas","document","createElement","ctx","getContext","fillStyle","find","c","fillRect","img","Image","designWidth","designHeight","save","translate","rotate","PI","drawImage","restore","toBlob","blob","url","URL","createObjectURL","a","href","download","Date","now","click","revokeObjectURL","src","className","children","fileName","_jsxFileName","lineNumber","columnNumber","accept","onChange","disabled","map","onClick","product","style","backgroundColor","title","length","onMouseMove","onMouseUp","onMouseLeave","viewBox","id","patternUnits","preserveAspectRatio","transform","d","fill","stroke","strokeWidth","maxWidth","onMouseDown","alt","draggable","filter","maxHeight","pointerEvents","_c","$RefreshReg$"],"sources":["/home/amandeep/houseofmit-design-studio/frontend/src/components/DesignCustomizer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Upload, RotateCw, ZoomIn, ZoomOut, Download, Save, Trash2, Loader, Maximize2, Move } from 'lucide-react';\n\nconst API_BASE_URL = 'http://localhost:5000/api';\n\nasync function uploadDesignFile(file) {\n  const formData = new FormData();\n  formData.append('designFile', file);\n  const response = await fetch(`${API_BASE_URL}/upload-design`, {\n    method: 'POST',\n    body: formData,\n  });\n  if (!response.ok) throw new Error('Upload failed');\n  return response.json();\n}\n\nasync function saveDesign(designData) {\n  const response = await fetch(`${API_BASE_URL}/designs`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(designData),\n  });\n  if (!response.ok) throw new Error('Save failed');\n  return response.json();\n}\n\nasync function getUserDesigns(userId) {\n  const response = await fetch(`${API_BASE_URL}/designs/${userId}`);\n  if (!response.ok) throw new Error('Fetch failed');\n  return response.json();\n}\n\nfunction DesignCustomizer() {\n  const [uploadedDesign, setUploadedDesign] = useState(null);\n  const [uploadedFileUrl, setUploadedFileUrl] = useState(null);\n  const [designPosition, setDesignPosition] = useState({ x: 50, y: 40 });\n  const [designSize, setDesignSize] = useState(30);\n  const [rotation, setRotation] = useState(0);\n  const [selectedColor, setSelectedColor] = useState('white');\n  const [selectedProduct, setSelectedProduct] = useState('tshirt');\n  const [printType, setPrintType] = useState('regular');\n  const [isDragging, setIsDragging] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [savedDesigns, setSavedDesigns] = useState([]);\n  const [currentUserId] = useState('user_' + Math.random().toString(36).substr(2, 9));\n  const [notification, setNotification] = useState(null);\n\n  const tshirtColors = [\n    { name: 'White', value: 'white', hex: '#FFFFFF' },\n    { name: 'Black', value: 'black', hex: '#000000' },\n    { name: 'Navy', value: 'navy', hex: '#000080' },\n    { name: 'Red', value: 'red', hex: '#DC143C' },\n    { name: 'Green', value: 'green', hex: '#228B22' },\n  ];\n\n  const products = [\n    { name: 'T-Shirt', value: 'tshirt' },\n    { name: 'Hoodie', value: 'hoodie' },\n    { name: 'Tank Top', value: 'tank' },\n    { name: 'Jacket', value: 'jacket' },\n  ];\n\n  const printTypes = [\n    { name: 'Regular Print', value: 'regular', description: 'Print design on specific area' },\n    { name: 'All Over Print (AOP)', value: 'aop', description: 'Cover entire garment with design' },\n  ];\n\n  useEffect(() => {\n    loadUserDesigns();\n  }, []);\n\n  const loadUserDesigns = async () => {\n    try {\n      const response = await getUserDesigns(currentUserId);\n      setSavedDesigns(response.designs || []);\n    } catch (error) {\n      console.error('Error loading designs:', error);\n    }\n  };\n\n  const showNotification = (message, type = 'success') => {\n    setNotification({ message, type });\n    setTimeout(() => setNotification(null), 3000);\n  };\n\n  const handleFileUpload = async (e) => {\n    const file = e.target.files[0];\n    if (file && file.type.startsWith('image/')) {\n      setIsUploading(true);\n      const reader = new FileReader();\n      reader.onload = (event) => {\n        setUploadedDesign(event.target.result);\n      };\n      reader.readAsDataURL(file);\n      try {\n        const response = await uploadDesignFile(file);\n        setUploadedFileUrl(response.fileUrl);\n        showNotification('Design uploaded successfully!');\n      } catch (error) {\n        console.error('Upload error:', error);\n        showNotification('Error uploading design', 'error');\n      } finally {\n        setIsUploading(false);\n      }\n    }\n  };\n\n  const handleMouseDown = (e) => {\n    if (uploadedDesign) {\n      setIsDragging(true);\n    }\n  };\n\n  const handleMouseMove = (e) => {\n    if (isDragging) {\n      const container = e.currentTarget.getBoundingClientRect();\n      const newX = ((e.clientX - container.left) / container.width) * 100;\n      const newY = ((e.clientY - container.top) / container.height) * 100;\n      setDesignPosition({\n        x: Math.max(10, Math.min(90, newX)),\n        y: Math.max(10, Math.min(90, newY))\n      });\n    }\n  };\n\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  const handleSizeChange = (delta) => {\n    setDesignSize(prev => Math.max(10, Math.min(80, prev + delta)));\n  };\n\n  const handleRotation = () => {\n    setRotation(prev => (prev + 90) % 360);\n  };\n\n  const resetDesign = () => {\n    setDesignPosition({ x: 50, y: 40 });\n    setDesignSize(30);\n    setRotation(0);\n  };\n\n  const handlePrintTypeChange = (type) => {\n    setPrintType(type);\n    if (type === 'aop') {\n      setDesignPosition({ x: 50, y: 50 });\n      setRotation(0);\n    }\n  };\n\n  const handleSaveToCart = async () => {\n    if (!uploadedDesign || !uploadedFileUrl) {\n      showNotification('Please upload a design first', 'error');\n      return;\n    }\n    setIsSaving(true);\n    try {\n      const designData = {\n        userId: currentUserId,\n        designImage: uploadedFileUrl,\n        printType: printType,\n        position: designPosition,\n        size: designSize,\n        rotation: rotation,\n        productType: selectedProduct,\n        color: selectedColor,\n        status: 'saved'\n      };\n      const response = await saveDesign(designData);\n      showNotification('Design saved successfully!');\n      await loadUserDesigns();\n      console.log('Design saved:', response);\n    } catch (error) {\n      console.error('Save error:', error);\n      showNotification('Error saving design', 'error');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const downloadDesign = () => {\n    const canvas = document.createElement('canvas');\n    canvas.width = 800;\n    canvas.height = 1000;\n    const ctx = canvas.getContext('2d');\n    ctx.fillStyle = tshirtColors.find(c => c.value === selectedColor)?.hex || '#FFFFFF';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    if (uploadedDesign) {\n      const img = new Image();\n      img.onload = () => {\n        const designWidth = (canvas.width * designSize) / 100;\n        const designHeight = (designWidth * img.height) / img.width;\n        const x = (canvas.width * designPosition.x) / 100 - designWidth / 2;\n        const y = (canvas.height * designPosition.y) / 100 - designHeight / 2;\n        ctx.save();\n        ctx.translate(x + designWidth / 2, y + designHeight / 2);\n        ctx.rotate((rotation * Math.PI) / 180);\n        ctx.drawImage(img, -designWidth / 2, -designHeight / 2, designWidth, designHeight);\n        ctx.restore();\n        canvas.toBlob((blob) => {\n          const url = URL.createObjectURL(blob);\n          const a = document.createElement('a');\n          a.href = url;\n          a.download = `design-${Date.now()}.png`;\n          a.click();\n          URL.revokeObjectURL(url);\n        });\n      };\n      img.src = uploadedDesign;\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100\">\n      {notification && (\n        <div className={`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg ${\n          notification.type === 'error' ? 'bg-red-500 text-white' : 'bg-green-500 text-white'\n        }`}>\n          {notification.message}\n        </div>\n      )}\n      <header className=\"bg-white shadow-sm\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <h1 className=\"text-3xl font-bold text-gray-900\">Custom Design Studio</h1>\n            <div className=\"text-sm text-gray-600\">House of Mit</div>\n          </div>\n        </div>\n      </header>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          <div className=\"lg:col-span-1 space-y-6\">\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h2 className=\"text-xl font-semibold mb-4 text-gray-800\">Upload Your Design</h2>\n              <label className=\"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 transition-colors\">\n                <div className=\"flex flex-col items-center justify-center pt-5 pb-6\">\n                  {isUploading ? (\n                    <>\n                      <Loader className=\"w-10 h-10 mb-3 text-blue-500 animate-spin\" />\n                      <p className=\"text-sm text-gray-500\">Uploading...</p>\n                    </>\n                  ) : (\n                    <>\n                      <Upload className=\"w-10 h-10 mb-3 text-gray-400\" />\n                      <p className=\"mb-2 text-sm text-gray-500\">\n                        <span className=\"font-semibold\">Click to upload</span> or drag and drop\n                      </p>\n                      <p className=\"text-xs text-gray-500\">PNG, JPG, SVG (MAX. 5MB)</p>\n                    </>\n                  )}\n                </div>\n                <input type=\"file\" className=\"hidden\" accept=\"image/*\" onChange={handleFileUpload} disabled={isUploading} />\n              </label>\n            </div>\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h2 className=\"text-xl font-semibold mb-4 text-gray-800\">Print Type</h2>\n              <div className=\"space-y-3\">\n                {printTypes.map((type) => (\n                  <button\n                    key={type.value}\n                    onClick={() => handlePrintTypeChange(type.value)}\n                    className={`w-full p-4 rounded-lg border-2 transition-all text-left ${\n                      printType === type.value ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-gray-300'\n                    }`}>\n                    <div className=\"flex items-start gap-3\">\n                      {type.value === 'regular' ? (\n                        <Move className={`w-5 h-5 mt-0.5 ${printType === type.value ? 'text-blue-600' : 'text-gray-400'}`} />\n                      ) : (\n                        <Maximize2 className={`w-5 h-5 mt-0.5 ${printType === type.value ? 'text-blue-600' : 'text-gray-400'}`} />\n                      )}\n                      <div className=\"flex-1\">\n                        <div className={`font-semibold ${printType === type.value ? 'text-blue-600' : 'text-gray-900'}`}>{type.name}</div>\n                        <div className=\"text-xs text-gray-500 mt-1\">{type.description}</div>\n                      </div>\n                    </div>\n                  </button>\n                ))}\n              </div>\n              {printType === 'aop' && (\n                <div className=\"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg\">\n                  <p className=\"text-xs text-amber-800\">\n                    <span className=\"font-semibold\">Note:</span> AOP designs will cover the entire garment. High-resolution images recommended (min 3000x3000px).\n                  </p>\n                </div>\n              )}\n            </div>\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h2 className=\"text-xl font-semibold mb-4 text-gray-800\">Select Product</h2>\n              <div className=\"grid grid-cols-2 gap-2\">\n                {products.map((product) => (\n                  <button\n                    key={product.value}\n                    onClick={() => setSelectedProduct(product.value)}\n                    className={`py-3 px-4 rounded-lg text-sm font-medium transition-all ${\n                      selectedProduct === product.value ? 'bg-blue-600 text-white shadow-md' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                    }`}>\n                    {product.name}\n                  </button>\n                ))}\n              </div>\n            </div>\n            {printType === 'regular' && (\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\n                <h2 className=\"text-xl font-semibold mb-4 text-gray-800\">Choose Color</h2>\n                <div className=\"flex gap-3 flex-wrap\">\n                  {tshirtColors.map((color) => (\n                    <button\n                      key={color.value}\n                      onClick={() => setSelectedColor(color.value)}\n                      className={`w-12 h-12 rounded-full border-4 transition-all ${\n                        selectedColor === color.value ? 'border-blue-600 scale-110' : 'border-gray-300 hover:border-gray-400'\n                      }`}\n                      style={{ backgroundColor: color.hex }}\n                      title={color.name}\n                    />\n                  ))}\n                </div>\n              </div>\n            )}\n            {uploadedDesign && (\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\n                <h2 className=\"text-xl font-semibold mb-4 text-gray-800\">\n                  {printType === 'aop' ? 'Pattern Settings' : 'Adjust Design'}\n                </h2>\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      {printType === 'aop' ? 'Pattern Scale' : 'Size'}: {designSize}%\n                    </label>\n                    <div className=\"flex gap-2\">\n                      <button\n                        onClick={() => handleSizeChange(-5)}\n                        className=\"flex-1 flex items-center justify-center gap-2 py-2 px-4 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\">\n                        <ZoomOut className=\"w-4 h-4\" />\n                        Smaller\n                      </button>\n                      <button\n                        onClick={() => handleSizeChange(5)}\n                        className=\"flex-1 flex items-center justify-center gap-2 py-2 px-4 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\">\n                        <ZoomIn className=\"w-4 h-4\" />\n                        Larger\n                      </button>\n                    </div>\n                  </div>\n                  <button\n                    onClick={handleRotation}\n                    className=\"w-full flex items-center justify-center gap-2 py-2 px-4 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\">\n                    <RotateCw className=\"w-4 h-4\" />\n                    Rotate 90Â°\n                  </button>\n                  <button\n                    onClick={resetDesign}\n                    className=\"w-full flex items-center justify-center gap-2 py-2 px-4 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors\">\n                    <Trash2 className=\"w-4 h-4\" />\n                    Reset Position\n                  </button>\n                  {printType === 'aop' && (\n                    <div className=\"p-3 bg-blue-50 border border-blue-200 rounded-lg\">\n                      <p className=\"text-xs text-blue-800\">\n                        Your pattern will repeat across the entire {selectedProduct}. Adjust scale and position for the perfect look!\n                      </p>\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n            {uploadedDesign && (\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\n                <div className=\"space-y-3\">\n                  <button\n                    onClick={handleSaveToCart}\n                    disabled={isSaving}\n                    className=\"w-full flex items-center justify-center gap-2 py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors disabled:opacity-50\">\n                    {isSaving ? (\n                      <>\n                        <Loader className=\"w-5 h-5 animate-spin\" />\n                        Saving...\n                      </>\n                    ) : (\n                      <>\n                        <Save className=\"w-5 h-5\" />\n                        Save & Add to Cart\n                      </>\n                    )}\n                  </button>\n                  <button\n                    onClick={downloadDesign}\n                    className=\"w-full flex items-center justify-center gap-2 py-3 px-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors\">\n                    <Download className=\"w-5 h-5\" />\n                    Download Design\n                  </button>\n                </div>\n              </div>\n            )}\n            {savedDesigns.length > 0 && (\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\n                <h2 className=\"text-xl font-semibold mb-4 text-gray-800\">\n                  Saved Designs ({savedDesigns.length})\n                </h2>\n                <div className=\"text-sm text-gray-600\">\n                  You have {savedDesigns.length} saved design{savedDesigns.length !== 1 ? 's' : ''}\n                </div>\n              </div>\n            )}\n          </div>\n          <div className=\"lg:col-span-2\">\n            <div className=\"bg-white rounded-lg shadow-md p-8 sticky top-8\">\n              <h2 className=\"text-2xl font-semibold mb-6 text-gray-800\">Live Preview</h2>\n              <div\n                className=\"relative aspect-square max-w-2xl mx-auto overflow-hidden rounded-lg\"\n                onMouseMove={handleMouseMove}\n                onMouseUp={handleMouseUp}\n                onMouseLeave={handleMouseUp}>\n                <div className=\"absolute inset-0 flex items-center justify-center\">\n                  <svg viewBox=\"0 0 400 500\" className=\"w-full h-full\">\n                    <defs>\n                      {printType === 'aop' && uploadedDesign && (\n                        <pattern \n                          id=\"aopPattern\" \n                          x={designPosition.x} \n                          y={designPosition.y} \n                          width={400 * (designSize / 100)} \n                          height={500 * (designSize / 100)} \n                          patternUnits=\"userSpaceOnUse\">\n                          <image \n                            href={uploadedDesign} \n                            x=\"0\" \n                            y=\"0\" \n                            width={400 * (designSize / 100)}\n                            height={500 * (designSize / 100)}\n                            preserveAspectRatio=\"xMidYMid slice\"\n                            transform={`rotate(${rotation} ${200 * (designSize / 100)} ${250 * (designSize / 100)})`}\n                          />\n                        </pattern>\n                      )}\n                    </defs>\n                    <path\n                      d=\"M100 100 L80 120 L80 500 L320 500 L320 120 L300 100 L280 80 L270 70 L250 70 L240 80 L230 80 L220 90 L180 90 L170 80 L160 80 L150 70 L130 70 L120 80 Z\"\n                      fill={printType === 'aop' ? 'url(#aopPattern)' : tshirtColors.find(c => c.value === selectedColor)?.hex || '#FFFFFF'}\n                      stroke=\"#E5E7EB\"\n                      strokeWidth=\"2\"\n                    />\n                    <path\n                      d=\"M180 90 Q200 120 220 90\"\n                      fill=\"none\"\n                      stroke=\"#E5E7EB\"\n                      strokeWidth=\"2\"\n                    />\n                    {printType === 'regular' && (\n                      <>\n                        <path d=\"M100 100 L80 120 L80 200\" fill=\"rgba(0,0,0,0.05)\" />\n                        <path d=\"M300 100 L320 120 L320 200\" fill=\"rgba(0,0,0,0.05)\" />\n                      </>\n                    )}\n                  </svg>\n                </div>\n                {uploadedDesign && printType === 'regular' && (\n                  <div\n                    className=\"absolute cursor-move\"\n                    style={{\n                      left: `${designPosition.x}%`,\n                      top: `${designPosition.y}%`,\n                      transform: `translate(-50%, -50%) rotate(${rotation}deg)`,\n                      width: `${designSize}%`,\n                      maxWidth: '300px',\n                    }}\n                    onMouseDown={handleMouseDown}>\n                    <img\n                      src={uploadedDesign}\n                      alt=\"Custom Design\"\n                      className=\"w-full h-auto pointer-events-none select-none\"\n                      draggable=\"false\"\n                      style={{\n                        filter: selectedColor === 'black' ? 'brightness(1.2) contrast(1.1)' : 'none'\n                      }}\n                    />\n                  </div>\n                )}\n                {uploadedDesign && printType === 'aop' && (\n                  <div\n                    className=\"absolute cursor-move border-2 border-dashed border-blue-500 bg-blue-500 bg-opacity-10\"\n                    style={{\n                      left: `${designPosition.x}%`,\n                      top: `${designPosition.y}%`,\n                      transform: `translate(-50%, -50%) rotate(${rotation}deg)`,\n                      width: `${designSize}%`,\n                      height: `${designSize}%`,\n                      maxWidth: '400px',\n                      maxHeight: '500px',\n                      pointerEvents: 'auto'\n                    }}\n                    onMouseDown={handleMouseDown}>\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\n                      <div className=\"bg-blue-600 text-white text-xs px-2 py-1 rounded\">\n                        Drag to adjust pattern origin\n                      </div>\n                    </div>\n                  </div>\n                )}\n                {!uploadedDesign && (\n                  <div className=\"absolute inset-0 flex items-center justify-center\">\n                    <div className=\"text-center text-gray-400\">\n                      <Upload className=\"w-16 h-16 mx-auto mb-4 opacity-50\" />\n                      <p className=\"text-lg font-medium\">Upload a design to get started</p>\n                      <p className=\"text-sm mt-2\">Your design will appear on the {selectedProduct}</p>\n                    </div>\n                  </div>\n                )}\n              </div>\n              {uploadedDesign && (\n                <div className=\"mt-6 text-center text-sm text-gray-600\">\n                  <p className=\"font-medium\">ðŸ’¡ Pro Tip:</p>\n                  {printType === 'regular' ? (\n                    <p>Click and drag your design to reposition it on the {selectedProduct}</p>\n                  ) : (\n                    <p>Drag to adjust pattern origin and use size controls to scale. Pattern repeats across entire {selectedProduct}!</p>\n                  )}\n                </div>\n              )}\n              <div className=\"mt-4 flex justify-center\">\n                <span className={`px-4 py-2 rounded-full text-sm font-medium ${\n                  printType === 'aop' ? 'bg-purple-100 text-purple-700' : 'bg-blue-100 text-blue-700'\n                }`}>\n                  {printType === 'aop' ? 'ðŸŽ¨ All Over Print' : 'ðŸ“ Regular Print'}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default DesignCustomizer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}